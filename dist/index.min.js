var Parexgram=function(t){"use strict";const{min:e,max:s}=Math;class r{constructor(t){this.feed=t,this.feedSize=t.length,this.cursor=0}peek(t){const{cursor:s}=this;return this.feed.substring(s,void 0!==t?e(s+t,this.feedSize):this.feedSize)}eat(t){const s=t.length;return this.peek(s)===t&&(this.cursor=e(this.cursor+s,this.feedSize),!0)}revert(t){this.cursor=s(this.cursor-t,0)}get size(){return this.feedSize-this.cursor}}class i{parse(t){}}const n=(t,e)=>{for(let s=e.length-1;s>=0;s-=1){const r=e[s];r instanceof Array&&n(t,r),"string"==typeof r&&t.revert(r.length)}};return t.Feed=r,t.Matcher=i,t.CharSet=class extends i{constructor(t){super(),this.value=t}parse(t){let e;if(t instanceof r){const{value:s}=this;t.eat(s)&&(e=s)}return e}},t.Range=class extends i{constructor(t,e){super(),this.min="string"==typeof t?t:"\0",this.max="string"==typeof e?e:"Ã¿"}parse(t){if(t instanceof r){const e=t.peek(1);if(this.min<=e&&e<=this.max)return t.eat(e),e}}},t.Quantifier=class extends i{constructor(t,e,s){super(),t instanceof i&&(this.matcher=t,this.min="number"==typeof e?e:0,this.max="number"==typeof s?s:void 0)}parse(t){if(t instanceof r){const{matcher:e,min:s,max:r}=this,o="number"==typeof r;if(e instanceof i){const i=[];let c=e.parse(t),a=0;for(;void 0!==c&&(i.push(c),a+=1,!(o&&a>r));)c=e.parse(t);if(a>=s)return i;n(t,i)}}}},t.Pattern=class extends i{constructor(t){if(super(),"string"==typeof t)try{this.value=new RegExp(t)}catch(t){this.value=void 0}t instanceof RegExp&&(this.value=t)}parse(t){if(t instanceof r){const e=t.peek();if(void 0!==this.value&&this.value.test(e)){const t=this.value.exec(e);if(null!==t&&e.startsWith(t[0]))return t[0]}}}},t.Sequence=class extends i{constructor(t){super(),this.matchers=t}parse(t){if(t instanceof r&&this.matchers.length>0){const e=[];for(const s of this.matchers){const r=s.parse(t),i=void 0===r;if(i)return void n(t,e);i||e.push(r)}return e}}},t.Alternation=class extends i{constructor(t){super(),this.matchers=t}parse(t){if(t instanceof r)for(const e of this.matchers){const s=e.parse(t);if(void 0!==s)return s}}},t}({});